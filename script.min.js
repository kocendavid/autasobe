(()=>{function l(){let e=document.querySelectorAll(".faq-item");e.forEach(i=>{i.addEventListener("toggle",function(){this.open&&e.forEach(n=>{n!==this&&n.open&&(n.open=!1)})})})}document.addEventListener("DOMContentLoaded",l);window.addEventListener("pageshow",function(e){e.persisted&&console.log("Page restored from bfcache")});window.addEventListener("pagehide",function(e){e.persisted&&console.log("Page added to bfcache")});function u(){let e=document.body.getAttribute("data-waitlo-key"),i=document.querySelectorAll(".waitlist-form");i.length&&i.forEach(n=>{let c=n.querySelector(".waitlist-input"),s=n.querySelector(".waitlist-button"),t=n.parentElement.querySelector(".waitlist-message");n.addEventListener("submit",async d=>{d.preventDefault();let a=(c?.value||"").trim();if(!a){t&&(t.textContent="Zadej e\u2011mail.");return}if(!e||e==="YOUR_API_KEY"){t&&(t.textContent="Chyb\xED API kl\xED\u010D.");return}s.disabled=!0,t&&(t.textContent="Odes\xEDl\xE1m\u2026");try{let o=await fetch(`https://api.waitlo.com/api/waitlist/subscribe?api_key=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(o.ok)t&&(t.textContent="D\u011Bkujeme! Jsi na \u010Deka\u010Dce."),n.reset();else{let r=await o.text().catch(()=>"");t&&(t.textContent=r||"Odesl\xE1n\xED se nepoda\u0159ilo. Zkus to pros\xEDm znovu.")}}catch{t&&(t.textContent="Chyba s\xEDt\u011B. Zkus to pros\xEDm znovu.")}finally{s.disabled=!1}})})}document.addEventListener("DOMContentLoaded",u);})();
